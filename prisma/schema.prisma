generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

model Car {
    id            Int                @id @default(autoincrement())
    name          String
    model         String
    complectation String
    description   String
    imageUrl      String
    typeEngine    String
    year          Int
    price         Float
    length        Float
    width         Float
    height        Float
    wheelbase     Float
    engine        Float
    testDrive     Boolean?
    slug          String
    previewImage  String
    interior      CarInteriorColor[]
    exteriorTitle String
    brand         String
    content       CarImageText[]
    gallery       String[]
    exterior      CarExteriorColor[]
    Brand         Brand?             @relation(fields: [brandId], references: [id])
    brandId       Int?

    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt
}

model Brand {
    id   Int    @id @default(autoincrement())
    name String
    url  String
    icon String
    cars Car[]

    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt
}

model CarImageText {
    id          Int      @id @default(autoincrement())
    image       String
    title       String
    description String[]
    carId       Int
    Car         Car      @relation(fields: [carId], references: [id])
}

model CarExteriorColor {
    id       Int    @id @default(autoincrement())
    name     String
    imageUrl String
    color    String
    carId    Int
    Car      Car    @relation(fields: [carId], references: [id])
}

model CarInteriorColor {
    id          Int    @id @default(autoincrement())
    name        String
    imageUrl    String
    colorFirst  String
    colorSecond String
    carId       Int
    Car         Car    @relation(fields: [carId], references: [id])
}
